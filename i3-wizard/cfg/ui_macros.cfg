\
# ===== KlipperScreen UI helpers (toasts + modal prompts) =====
[gcode_macro KS_NOTIFY]
description: "Show a toast in KlipperScreen"
gcode:
  {% set title = params.TITLE|default("Notice") %}
  {% set msg   = params.MSG|default("") %}
  {% set dur   = params.DUR|default(4)|int %}
  RESPOND TYPE=command MSG="action:notification title={title} message={msg} timeout={dur}"

[gcode_macro KS_PROMPT_OK_CANCEL]
description: "Modal OK/Cancel prompt"
gcode:
  {% set title = params.TITLE|default("Continue?") %}
  {% set msg   = params.MSG|default("Proceed?") %}
  {% set ok    = params.OK|default("OK") %}
  {% set cancel= params.CANCEL|default("Cancel") %}
  {% set onok  = params.ONOK|default("M117 OK pressed") %}
  RESPOND TYPE=command MSG="action:prompt_begin {title}"
  RESPOND TYPE=command MSG="action:prompt_text {msg}"
  RESPOND TYPE=command MSG="action:prompt_button {ok}|{onok}"
  RESPOND TYPE=command MSG="action:prompt_button {cancel}|"
  RESPOND TYPE=command MSG="action:prompt_end"
